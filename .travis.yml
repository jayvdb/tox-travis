sudo: false
language: python
python:
 - 2.6
 - 2.7
 - 3.2
 - 3.3
 - 3.4
 - 3.5
 - 3.5-dev
 - nightly
 - pypy
 - pypy3
 - pypy3.3-5.2-alpha1

env:
 matrix:
  - SETUPTOOLS_VERSION=0.6c11
  - SETUPTOOLS_VERSION=2.2
  - SETUPTOOLS_VERSION=11.3.1
  - SETUPTOOLS_VERSION=12
  - SETUPTOOLS_VERSION=13.0.2
  - SETUPTOOLS_VERSION=14.3
  - SETUPTOOLS_VERSION=15.2
  - SETUPTOOLS_VERSION=16.0
  - SETUPTOOLS_VERSION=17.1.1
  - SETUPTOOLS_VERSION=18.8
  - SETUPTOOLS_VERSION=19.7
  - SETUPTOOLS_VERSION=20.10.1
  - SETUPTOOLS_VERSION=21.2.2
  - SETUPTOOLS_VERSION=22.0.5
  - SETUPTOOLS_VERSION=23.2.1
  - SETUPTOOLS_VERSION=24.0.3

 global:
  -VIRTUALENV_DOWNLOAD=no

before_install:
 # Save the setuptools version
 - ORIG_SETUPTOOLS_VERSION=`python -c "import setuptools; print('%s' % setuptools.__version__)"`
 - echo setuptools $ORIG_SETUPTOOLS_VERSION
install:
 - pip install --upgrade setuptools==$SETUPTOOLS_VERSION wheel
 - python setup.py install
 - if [ $SETUPTOOLS_VERSION != "0.6c11" ]; then python setup.py bdist_wheel ; fi
 - pip install --upgrade setuptools==$ORIG_SETUPTOOLS_VERSION
 - if [ $SETUPTOOLS_VERSION != "0.6c11" ]; then pip install ./dist/tox_travis-*.whl ; fi
script:
 - tox

matrix:
  fast_finish: true
